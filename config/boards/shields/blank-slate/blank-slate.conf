# Aumenta la potencia de transmisión Bluetooth para mejorar el alcance
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y

# Configuraciones de deep sleep y reconexión básica
CONFIG_ZMK_SLEEP=y
# Tiempo de inactividad a 15 minutos para pruebas
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=900000
# Despertar rápidamente
CONFIG_ZMK_IDLE_TIMEOUT=30000

# Configuraciones de batería
CONFIG_ZMK_BATTERY_REPORTING=y
CONFIG_ZMK_BATTERY_REPORT_INTERVAL=60

# Configuración central y observador BT necesaria para algunas características
CONFIG_BT_CENTRAL=y
CONFIG_BT_OBSERVER=y
CONFIG_BT_PERIPHERAL=y

# Parámetros de conexión Bluetooth optimizados
CONFIG_BT_PERIPHERAL_PREF_MIN_INT=6
CONFIG_BT_PERIPHERAL_PREF_MAX_INT=9
CONFIG_BT_PERIPHERAL_PREF_LATENCY=0
CONFIG_BT_PERIPHERAL_PREF_TIMEOUT=400
CONFIG_BT_CONN_PARAM_UPDATE_TIMEOUT=500

# Desactivar actualizaciones automáticas que pueden interferir con reconexión
CONFIG_BT_AUTO_PHY_UPDATE=n

# Gestión de energía y parámetros de conexión
CONFIG_BT_CTLR_CONN_PARAM_REQ=y
CONFIG_BT_HCI_VS=y
CONFIG_BT_GATT_ENFORCE_SUBSCRIPTION=n

# Configuraciones de ZMK específicas para Bluetooth
CONFIG_ZMK_BLE_EXPERIMENTAL_CONN=y
CONFIG_ZMK_BLE=y
CONFIG_ZMK_BLE_CLEAR_BONDS_ON_START=n
CONFIG_ZMK_BLE_PASSKEY_ENTRY=n

# Configuraciones dinámicas de nombre y parámetros
CONFIG_BT_DEVICE_APPEARANCE=961
CONFIG_BT_DEVICE_NAME_DYNAMIC=y
CONFIG_BT_DEVICE_NAME_MAX=32
CONFIG_BT_GAP_AUTO_UPDATE_CONN_PARAMS=y

# Configuraciones SMP para facilitar reconexión
CONFIG_BT_SMP_ENFORCE_MITM=n
CONFIG_BT_SMP_ALLOW_UNAUTH_OVERWRITE=y
CONFIG_BT_SETTINGS_CCC_STORE_ON_WRITE=y

# Configuración para mejor debounce - Valores aumentados para mejorar la detección
CONFIG_ZMK_KSCAN_DEBOUNCE_PRESS_MS=20
CONFIG_ZMK_KSCAN_DEBOUNCE_RELEASE_MS=20

# Aumentar el número de perfiles Bluetooth disponibles (hasta 5)
CONFIG_BT_MAX_PAIRED=5

# Optimizar los recursos para Bluetooth
CONFIG_ZMK_BLE_THREAD_PRIORITY=0
CONFIG_ZMK_BLE_THREAD_STACK_SIZE=2048
CONFIG_BT_BUF_ACL_RX_SIZE=255
CONFIG_BT_BUF_ACL_TX_SIZE=251
CONFIG_BT_CTLR_DATA_LENGTH_MAX=251

# Habilitar características extendidas de USB
CONFIG_ZMK_USB=y
CONFIG_USB_DEVICE_STACK=y
CONFIG_USB_DEVICE_MANUFACTURER="Usuario"
CONFIG_USB_DEVICE_PRODUCT="Blank Slate"
CONFIG_USB_DEVICE_VID=0x1209
CONFIG_USB_DEVICE_PID=0x1209

# Configuración para problemas de escaneo de matriz
CONFIG_ZMK_KSCAN_MATRIX_POLLING=y

# Mostrar nombre personalizado en bluetooh (máximo 16 caracteres)
CONFIG_ZMK_KEYBOARD_NAME="BlankSlate" 